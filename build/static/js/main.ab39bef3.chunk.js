(this.webpackJsonphomepage=this.webpackJsonphomepage||[]).push([[0],{13:function(e,t,n){e.exports=n(23)},18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),i=n.n(o),c=(n(18),n(7)),s=n.n(c),l=n(12),u=n(11),h=n(8),f=n(3),d=n(4),p=n(6),m=n(5),y=(n(20),n(21),function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"X",value:function(){return r.a.createElement("div",{className:"X"})}},{key:"O",value:function(){return r.a.createElement("div",{className:"O"})}},{key:"getInnerBox",value:function(e){switch(this.props.board[e]){case 1:return this.X();case 2:return this.O();default:return}}},{key:"handleBoxClicked",value:function(e){2===this.props.currentPlayer&&this.props.playAction(e)}},{key:"render",value:function(){var e=this,t=[];return[["box top left",6],["box top",7],["box top right",8],["box left",3],["box",4],["box right",5],["box bottom left",0],["box bottom",1],["box bottom right",2]].forEach((function(n){t.push(r.a.createElement("div",{className:n[0],onClick:function(t){return e.handleBoxClicked(n[1])},key:"board-slot-"+n[1]},e.getInnerBox(n[1])))})),r.a.createElement("div",{className:"game-board"},t)}}]),n}(r.a.Component)),b=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,e)).state={board:Array(9).fill(0),isGameFinished:!1,currentPlayer:1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.playModelAction(this.state.board)}},{key:"nextPlayer",value:function(e){return 1===e?2:1}},{key:"resetBoard",value:function(){var e=this;this.setState({board:Array(9).fill(0),isGameFinished:!1,currentPlayer:1},(function(){return e.playModelAction(e.state.board)}))}},{key:"checkGameEnded",value:function(e,t,n){for(var a=[0,4,8],r=[2,4,6],o=t%3,i=Math.floor(t/3),c=0;c<3&&e[3*i+c]===n;c++)if(2===c)return!0;for(var s=0;s<3&&e[o+3*s]===n;s++)if(2===s)return!0;if(t%2===0){if(a.includes(t)){var l,u=Object(h.a)(a);try{for(u.s();!(l=u.n()).done;){var f=l.value;if(e[f]!==n)break;if(f===a[a.length-1])return!0}}catch(y){u.e(y)}finally{u.f()}}if(r.includes(t)){var d,p=Object(h.a)(r);try{for(p.s();!(d=p.n()).done;){var m=d.value;if(e[m]!==n)break;if(m===r[r.length-1])return!0}}catch(y){p.e(y)}finally{p.f()}}}return!1}},{key:"printAPIError",value:function(e){alert("Sorry, there was an error communicating with the model. Please try again later."),console.log(e)}},{key:"playModelAction",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,a,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/http://ec2-3-96-130-112.ca-central-1.compute.amazonaws.com:8501/v1/models/TTT:predict",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({inputs:[this.state.board]})}).then((function(e){if(200===e.status)return e.json();r.printAPIError(e)})).catch((function(e){return r.printAPIError(e)}));case 2:n=e.sent,a=(a=n.outputs[0]).map((function(e,t){return 0!==r.state.board[t]?Number.MIN_SAFE_INTEGER:e})),this.playAction(a.indexOf(Math.max.apply(Math,Object(l.a)(a))));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playAction",value:function(e){var t=this;if(!this.state.isGameFinished&&0===this.state.board[e]){var n=this.state.currentPlayer,a=this.state.board;a[e]=n,this.setState({board:a,isGameFinished:this.checkGameEnded(a,e,n),currentPlayer:this.nextPlayer(n)},(function(){1===t.state.currentPlayer&&t.playModelAction()}))}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"TTT"},r.a.createElement("h1",{className:"title"},"Play Against The Trained RL Model"),r.a.createElement(y,{board:this.state.board,playAction:function(t){e.playAction(t)},currentPlayer:this.state.currentPlayer}),r.a.createElement("button",{className:"reset-button",onClick:function(t){e.resetBoard()}},"Reset Board"))}}]),n}(r.a.Component);n(22);var v=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.ab39bef3.chunk.js.map